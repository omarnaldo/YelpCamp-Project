<% layout('layouts/boilerplate') %>
<div class="row">
    <h1 class="text-center">Edit Campground</h1>
    <div class="col-6 offset-3">
      <form action="/campgrounds/<%= campground._id %>?_method=PUT" method="POST" novalidate class="validated-form" enctype="multipart/form-data">
        <div class="mb-3">
            <label class="form-label" for="title">Title</label>
            <input type="text" class="form-control" id="title" name="campground[title]"value="<%= campground.title %>"required>
             <div class="valid-feedback">
      Looks good!
    </div>
          </div>
         <div class="mb-3">
            <label class="form-label" for="location">Location</label>
            <input type="text"  class="form-control" id="location" name="campground[location]"value="<%= campground.location %>" required>
           <div class="valid-feedback">
      Looks good!
    </div>
          </div>
            <div class="mb-3">
            <label class="form-label" for="description">Description</label>
            <textarea type="text"  class="form-control" id="description" name="campground[description]" required><%= campground.description %> </textarea>
               <div class="valid-feedback">
      Looks good!
    </div>
            </div>
         <div class="mb-3">
            <label class="form-label" for="image">Add Image</label>
<div class="input-group">
  <input type="file" class="form-control" name="image" multiple   id="image" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
</div>     
     </div>

        <div class="mb-3">
        <label class="form-label" for="price">Campground Price</label>
        <div class="input-group">
  <div class="input-group-prepend">
    <span class="input-group-text" id="price">$</span>
  </div>
  <input type="text" class="form-control" placeholder="0" aria-label="price" aria-describedby="price-label"  name="campground[price]"value="<%= campground.price %>" required>
   <div class="valid-feedback">
      Looks good!
    </div>
</div>
</div>
<div class="mb-3">
  <% campground.images.forEach(function (img,i){ %>
    <img src="<%= img.url %>" class="img-thumbnail" alt="">
    <div class="form-control-inline">
      <input type="checkbox" id="image-<%= i %>" name="deleteImages[]" value="<%= img.filename %>">
    </div>
    <label for="">Delete this one?</label>
    <% }) %>
</div>

<div class="mb-4 mt-3"><button class="btn btn-success" >Edit Campground</button></div>
        </form>
   <div class="mt-3 mb-4 d-flex gap-2 flex-wrap">
  <a href="/campgrounds" class="btn btn-primary rounded-pill px-4">
    All Campgrounds
  </a>
  <a href="/campgrounds/<%= campground._id %>" class="btn btn-outline-dark rounded-pill px-4">
    Back to Campground
  </a>
</div>


    </div>
</div>

<script>
(() => {
  'use strict'

  const forms = document.querySelectorAll('.validated-form')

  // Loop over them and prevent submission
  Array.from(forms).forEach(form => {
    form.addEventListener('submit', event => {
      if (!form.checkValidity()) {
        event.preventDefault()
        event.stopPropagation()
      }

      form.classList.add('was-validated')
    }, false)
  })
})()
</script>
